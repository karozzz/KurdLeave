<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KurdLeave — Home</title>
  <link rel="stylesheet" href="../usercss/user-styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="container">
    <!-- Header & Navigation -->
    <table class="main-header">
      <tr>
        <td colspan="7">
          <h1>KurdLeave System</h1>
        </td>
      </tr>
      <tr>
        <td><b><a href="home.html"><i class="fas fa-home"></i> Home</a></b></td>
        <td><a href="apply_leave.html"><i class="fas fa-plus-circle"></i> Apply Leave</a></td>
        <td><a href="my_leaves.html"><i class="fas fa-list-check"></i> My Leaves</a></td>
        <td><a href="calendar.html"><i class="fas fa-calendar"></i> Calendar</a></td>
        <td id="approvals-tab" style="display:none;"><a href="approvals.html"><i class="fas fa-clipboard-check"></i> Approvals</a></td>
        <td><a href="profile.html"><i class="fas fa-user"></i> Profile</a></td>
        <td id="admin-tab" style="display:none;"><a href="../admin/admin_dashboard.html"><i class="fas fa-user-cog"></i> Admin Panel</a></td>
        <td><a href="login.html"><i class="fas fa-sign-out-alt"></i> Logout</a></td>
      </tr>
    </table>
    
    <div class="content-panel">
      <div class="panel-heading text-center">
        <h2><i class="fas fa-tachometer-alt"></i> Dashboard</h2>
        <p id="role-display">Welcome, <span id="user-name">Zana</span>! Today is <b>April 28, 2025</b> (Monday)</p>
      </div>
      
      <!-- Weather Widget and Leave Suggestions -->
      <div style="display: flex; flex-wrap: wrap; gap: 1rem; margin: var(--spacing-md) 0;">
        <div class="card" style="flex: 1; min-width: 200px; text-align: center;">
          <div class="card-header"><i class="fas fa-cloud-sun"></i> Today's Weather</div>
          <div style="font-size: 2rem; margin: 10px 0;"><i class="fas fa-sun" style="color: #f39c12;"></i> 28°C</div>
          <p>Sunny, perfect day for outdoor activities!</p>
        </div>
        
        <div class="card" style="flex: 2; min-width: 300px;">
          <div class="card-header"><i class="fas fa-lightbulb"></i> Smart Leave Suggestions</div>
          <p><i class="fas fa-calendar-check"></i> Plan ahead: Perfect weather for the next long weekend (May 24-26).</p>
          <p><i class="fas fa-plane"></i> Travel Deal: Book annual leave for June 10-15 for best airfare prices.</p>
          <p><i class="fas fa-users"></i> Team capacity: Low leave requests in mid-July - good availability.</p>
        </div>
      </div>
      
      <!-- Quick Actions -->
      <div class="card-container" style="display: flex; flex-wrap: wrap; gap: 1rem; margin-top: var(--spacing-lg);">
        <div class="card" style="flex: 1; min-width: 250px;">
          <div class="card-header"><i class="fas fa-calendar-plus"></i> Request Leave</div>
          <p>Submit a new leave request</p>
          <a href="apply_leave.html" class="btn"><i class="fas fa-plus-circle"></i> New Request</a>
        </div>
        
        <div class="card" style="flex: 1; min-width: 250px;">
          <div class="card-header"><i class="fas fa-list-check"></i> My Leave Status</div>
          <p>View your leave requests and statuses</p>
          <a href="my_leaves.html" class="btn"><i class="fas fa-eye"></i> View Leaves</a>
        </div>
        
        <div id="approve-action" class="card" style="flex: 1; min-width: 250px; display: none;">
          <div class="card-header"><i class="fas fa-clipboard-check"></i> Pending Approvals</div>
          <p>7 leave requests awaiting your approval</p>
          <a href="approvals.html" class="btn"><i class="fas fa-check"></i> Review Now</a>
        </div>
        
        <div class="card" style="flex: 1; min-width: 250px;">
          <div class="card-header"><i class="fas fa-chart-bar"></i> Leave Analytics</div>
          <p>Track your leave patterns and team availability</p>
          <a href="#" class="btn" id="show-analytics"><i class="fas fa-chart-line"></i> View Analytics</a>
        </div>
      </div>
    </div>
    
    <!-- Main Content: Two-column layout -->
    <div style="display: flex; flex-wrap: wrap; gap: var(--spacing-lg);">
      <!-- Left Column -->
      <div class="content-panel" style="flex: 1; min-width: 300px;">
        <h3><i class="fas fa-chart-pie"></i> Leave Balance</h3>
        <table class="data-table">
          <thead>
            <tr>
              <th>Leave Type</th>
              <th>Available</th>
              <th>Used</th>
              <th>Pending</th>
              <th>Total</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Annual Leave</td>
              <td align="center">15</td>
              <td align="center">5</td>
              <td align="center">0</td>
              <td align="center">20</td>
            </tr>
            <tr>
              <td>Sick Leave</td>
              <td align="center">10</td>
              <td align="center">2</td>
              <td align="center">0</td>
              <td align="center">12</td>
            </tr>
            <tr>
              <td>Personal Days</td>
              <td align="center">3</td>
              <td align="center">1</td>
              <td align="center">0</td>
              <td align="center">4</td>
            </tr>
          </tbody>
        </table>
        
        <h3 class="mt-3"><i class="fas fa-history"></i> Recent Leaves</h3>
        <table>
          <thead>
            <tr>
              <th>Type</th>
              <th>From</th>
              <th>To</th>
              <th>Days</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Annual</td>
              <td>15 Mar 2025</td>
              <td>20 Mar 2025</td>
              <td>5</td>
              <td><span class="status status-approved">Approved</span></td>
            </tr>
            <tr>
              <td>Sick</td>
              <td>28 Feb 2025</td>
              <td>01 Mar 2025</td>
              <td>2</td>
              <td><span class="status status-approved">Approved</span></td>
            </tr>
            <tr>
              <td>Personal</td>
              <td>15 Jan 2025</td>
              <td>15 Jan 2025</td>
              <td>1</td>
              <td><span class="status status-approved">Approved</span></td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <!-- Right Column -->
      <div class="content-panel" style="flex: 1; min-width: 300px;">
        <h3><i class="fas fa-calendar-alt"></i> Team Calendar</h3>
        
        <table>
          <thead>
            <tr>
              <th>Employee</th>
              <th>Leave Type</th>
              <th>From</th>
              <th>To</th>
            </tr>
          </thead>
          <tbody>
            <tr class="approved-leave">
              <td>Aland Fryad</td>
              <td><span class="status status-approved">Annual Leave</span></td>
              <td>26 Apr 2025</td>
              <td>29 Apr 2025</td>
            </tr>
            <tr class="approved-leave">
              <td>Zana Kamaran</td>
              <td><span class="status status-rejected">Sick Leave</span></td>
              <td>28 Apr 2025</td>
              <td>28 Apr 2025</td>
            </tr>
            <tr class="approved-leave">
              <td>Ali Aziz</td>
              <td><span class="status status-pending">Personal Day</span></td>
              <td>28 Apr 2025</td>
              <td>28 Apr 2025</td>
            </tr>
          </tbody>
        </table>
        
        <div class="alert alert-info">
          <strong>3 colleagues</strong> are on leave today.
        </div>
        
        <h3 class="mt-3"><i class="fas fa-bell"></i> Announcements</h3>
        <div class="card">
          <div class="card-header">Holiday Reminder</div>
          <p>Memorial Day (26 May 2025) is an upcoming company holiday.</p>
        </div>
        
        <div class="card">
          <div class="card-header">System Maintenance</div>
          <p>KurdLeave will be undergoing maintenance on May 1, 2025 from 10:00 PM to 11:00 PM.</p>
        </div>
      </div>
    </div>
    
    <!-- Manager-only content -->
    <div id="manager-approvals" class="content-panel" style="display:none;">
      <h3><i class="fas fa-clipboard-check"></i> Pending Approvals</h3>
      <table>
        <thead>
          <tr>
            <th>Employee</th>
            <th>Type</th>
            <th>Dates</th>
            <th>Duration</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Aland Fryad</td>
            <td>Annual Leave</td>
            <td>10 May - 15 May 2025</td>
            <td>6 days</td>
            <td><span class="status status-pending">Pending</span></td>
            <td><a href="approvals.html" class="btn">Review</a></td>
          </tr>
          <tr>
            <td>Karoz Rebaz</td>
            <td>Sick Leave</td>
            <td>05 May - 06 May 2025</td>
            <td>2 days</td>
            <td><span class="status status-pending">Pending</span></td>
            <td><a href="approvals.html" class="btn">Review</a></td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <!-- Footer -->
    <div class="footer">
      <p>KurdLeave System &copy; 2025</p>
    </div>
  </div>

  <!-- Back to Top Button -->
  <button class="back-to-top" id="backToTop">
    <i class="fas fa-arrow-up"></i>
  </button>

<script>
window.onload = function() {
  // Back to Top button functionality
  const backToTopButton = document.getElementById('backToTop');
  
  // Show/hide button based on scroll position
  window.addEventListener('scroll', function() {
    if (window.pageYOffset > 300) {
      backToTopButton.classList.add('show');
    } else {
      backToTopButton.classList.remove('show');
    }
  });
  
  // Scroll to top when clicked
  backToTopButton.addEventListener('click', function() {
    window.scrollTo({
      top: 0,
      behavior: 'smooth'
    });
  });

  // Get the role from URL parameter
  var urlParams = new URLSearchParams(window.location.search);
  var role = urlParams.get('role');
  
  // Set the user name based on role
  var userName = document.getElementById('user-name');
  var roleDisplay = document.getElementById('role-display');
  var approvalsTab = document.getElementById('approvals-tab');
  var adminTab = document.getElementById('admin-tab');
  var approveAction = document.getElementById('approve-action');
  var managerApprovals = document.getElementById('manager-approvals');
  
  if (role === 'manager') {
    userName.innerText = 'Manager Rawa Dara';
    roleDisplay.innerText = 'Role: Team Manager';
    approvalsTab.style.display = '';
    approveAction.style.display = '';
    managerApprovals.style.display = '';
  } else if (role === 'admin') {
    userName.innerText = 'Admin User';
    roleDisplay.innerText = 'Role: System Administrator';
    approvalsTab.style.display = '';
    adminTab.style.display = '';
    approveAction.style.display = '';
    managerApprovals.style.display = '';
  } else {
    userName.innerText = 'Rawa';
    roleDisplay.innerText = 'Role: Employee';
  }
}
</script>
</body>
</html>